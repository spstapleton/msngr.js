<html>
  <head>
    <title>Cross-Window Verifier</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type='text/javascript' src="../msngr.min.js"></script>
    <script type="text/javascript">
        var msg = msngr("CrossWindow", "Message");
        msg.option("cross-window");

        // Let's do this craziness to ensure they are sent in crazy orders
        // but still received and operated on as expected.
        for (var i = 0; i < 100; ++i) {
            (function (m, index) {
                var rand = Math.floor(Math.random() * (25 - 0 + 1)) + 0;
                setTimeout(function () {
                    m.emit({
                        id: index,
                        data: {
                            meaningOfLife: 42,
                            OPDelivers: false,
                            text: "something"
                        }
                    });
                }, rand);
            }(msg, i));
        }
    </script>
  </head>
  <body>

  </body>
</html>
